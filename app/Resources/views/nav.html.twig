{% set currentRoute = app.request.get('_route') %}
<nav>
    <ul>
    
        <li {% if currentRoute == 'home' %} class="active" {% endif %}>
            <a href="{{ path('home') }}">
                  <i class="icon-quote-right"></i>
                  Messages
            </a>
        </li>
    
        <li {% if currentRoute == 'users' %} class="active" {% endif %}>
            <a href="{{ path('users') }}">
                  <i class="icon-group"></i>
                  Users
            </a>
        </li>
    
    {% if app.user %}
    
        <li {% if currentRoute == 'new_message' %} class="active" {% endif %}>
            <a href="{{ path('new_message') }}">
                <i class="icon-pencil"></i>
                New message
            </a>
        </li>
        
        <li 
            {% if 
                    (currentRoute == 'see_profile' and app.request.get('username')  == app.user.username) or 
                    currentRoute == 'edit_profile' 
            %} 
                class="active" 
            {% endif %}
            >
            <a href="{{ path('see_profile', {'username' : app.user.username}) }}">
                <i class="icon-user"></i>
                {{ app.user.username }}
            </a>
        </li>
        
        <li class="connection">
            <a href="{{ path('sign_out') }}">
                Sign out
            </a>
        </li>
    
    {% else %}
    
        <li class="connection {% if currentRoute == 'sign_up' %}active{% endif %}">
            <a href="{{ path('sign_up') }}">
                Sign Up
            </a>
        </li>
    
        <li class="connection {% if currentRoute == 'sign_in' %}active{% endif %}">
            <a href="{{ path('sign_in') }}">
                Sign In
            </a>
        </li>       
    
    {% endif %}
    </ul>
</nav>

